:root {
  --bg:#0f1115; --panel:#161a22; --text:#e6e8ea; --muted:#9aa4b2;
  --accent:#8ab4f8; --border:#232936; --hover:#1d2330; --focus:#2c3344;
  --success:#34d399;
}
* { box-sizing: border-box; }
html,body { margin:0; height:100%; background:var(--bg); color:var(--text);
  font:16px/1.55 system-ui, Segoe UI, Roboto, Arial; }

.topbar {
  display:flex; align-items:center; gap:1rem; padding:1rem;
  border-bottom:1px solid var(--border);
  position:sticky; top:0; background:linear-gradient(var(--bg), rgba(15,17,21,.92));
  backdrop-filter:saturate(120%) blur(6px); z-index:10;
}
.topbar h1 { margin:0; font-size:1.25rem; }
.topbar .totals { margin-left:auto; display:flex; gap:1rem; }
.topbar .actions { display:flex; gap:.5rem; }

.search-wrap { display:flex; align-items:center; gap:.4rem; }
.search-wrap input {
  background:var(--panel); color:var(--text); border:1px solid var(--border);
  padding:.45rem .6rem; border-radius:.5rem; width:min(320px,38vw);
}
.search-wrap kbd {
  border:1px solid var(--border); border-bottom-width:2px; padding:.1rem .35rem;
  border-radius:.35rem; color:var(--muted); font:12px/1.2 ui-monospace, SFMono-Regular;
}

button, .buttonlike {
  background:var(--panel); color:var(--text); border:1px solid var(--border);
  padding:.5rem .75rem; border-radius:.5rem; cursor:pointer; display:inline-flex; align-items:center; gap:.35rem;
}
button:hover, .buttonlike:hover { border-color:var(--accent); }

.grid {
  display:grid; grid-template-columns:repeat(auto-fit,minmax(320px,1fr));
  gap:1rem; padding:1rem; max-width:1400px; margin:0 auto;
}

.card {
  background:var(--panel); border:1px solid var(--border);
  border-radius:.85rem; padding:0; overflow:hidden;
}
.card header { display:flex; align-items:center; gap:.6rem; padding:1rem; cursor:pointer; }
.card h2 { margin:0; font-size:1.05rem; }
.card .meta { margin-left:auto; color:var(--muted); font-size:.9rem; }

.progressbar {
  height:6px; background:#10131a; position:relative;
}
.progressbar .fill { position:absolute; inset:0 0 0 0; width:0%; background:var(--accent); }

.card .list { padding:.5rem .75rem 1rem; display:grid; gap:.25rem; }
.task { padding:.45rem .35rem; border-radius:.5rem; }
.task:hover { background:var(--hover); }
.task:focus-within { outline:2px solid var(--focus); }
.task label { display:flex; gap:.6rem; align-items:center; cursor:pointer; }
.task .pts { margin-left:auto; color:var(--muted); font-variant-numeric:tabular-nums; }
.task input[type="checkbox"] { width:1.1rem; height:1.1rem; }

dialog {
  border:none; border-radius:1rem; padding:0; background:var(--panel);
  color:var(--text); width:min(560px,92vw);
}
.settings { padding:1rem; display:flex; flex-direction:column; gap:1rem; }
.settings label, .settings fieldset { display:flex; flex-direction:column; gap:.4rem; }
.toggles { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:.5rem; }
.toggle { display:flex; align-items:center; gap:.5rem; color:var(--muted); }

menu { display:flex; justify-content:flex-end; gap:.5rem; margin:0; }

.bottombar {
  position:sticky; bottom:0; left:0; right:0; background:linear-gradient(rgba(15,17,21,.92), var(--bg));
  border-top:1px solid var(--border); padding:.35rem .75rem; z-index:10;
}
.bar-inner { display:flex; align-items:center; gap:.5rem; max-width:1400px; margin:0 auto; }
progress { width:100%; height:10px; }
#globalPct { min-width:3ch; text-align:right; color:var(--muted); }

/* collapsed state */
.card[data-collapsed="true"] .list { display:none; }
.card[data-collapsed="true"] .progressbar { display:none; }
.card .chev { transform:rotate(0deg); transition:transform .2s ease; }
.card[data-collapsed="true"] .chev { transform:rotate(-90deg); }

.row { display:flex; gap:.5rem; align-items:center; }
.import-label { cursor:pointer; }
